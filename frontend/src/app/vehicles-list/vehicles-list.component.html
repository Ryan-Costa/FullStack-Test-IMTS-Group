<h1>Veículos</h1>

<div class="table-container">
    <p-table
        #dt
        [value]="$vehicles"
        dataKey="id"
        [rowHover]="true"
        [rows]="15"
        [showCurrentPageReport]="true"
        [paginator]="true"
        currentPageReportTemplate="Exibindo {first} a {last} de {totalRecords} registros"
        [filterDelay]="0"
        [rowsPerPageOptions]="[15]"
    >
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="apartmentNumber" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                        N Apartamento
                    </div>
                </th>
                <th pSortableColumn="brand" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                        Marca
                    </div>
                </th>
                <th pSortableColumn="model" style="min-width: 14rem">
                    <div class="flex justify-content-between align-items-center">
                        Modelo
                    </div>
                </th>
                <th pSortableColumn="color" style="min-width: 10rem">
                    <div class="flex justify-content-between align-items-center">
                        Cor
                    </div>
                </th>
                <th pSortableColumn="plate" style="min-width: 10rem">
                    <div class="flex justify-content-between align-items-center">
                        Placa
                    </div>
                </th>
                <th pSortableColumn="plate" style="min-width: 10rem">
                    <div class="flex justify-content-between align-items-center">
                        Data de Criação
                    </div>
                </th>
                <th pSortableColumn="plate" style="min-width: 10rem">
                    <div class="flex justify-content-between align-items-center">
                        Data de Edição
                    </div>
                </th>
                <th pSortableColumn="plate" style="min-width: 10rem">
                    <div class="flex justify-content-between align-items-center">
                        Ações
                    </div>
                </th>
            </tr>
        </ng-template>

       

        <ng-template pTemplate="body" let-vehicle>
            <tr class="p-selectable-row">
                <td>
                    <span class="p-column-title">N AP</span>
                    {{ vehicle.apartment.apartmentNumber }}
                </td>
                <td>
                    <span class="p-column-title">Marca</span>
                    {{ vehicle.brand }}
                </td>
                <td>
                    <span class="p-column-title">Modelo</span>
                    {{ vehicle.model }}
                </td>
                <td>
                    <span class="p-column-title">Cor</span>
                    {{ vehicle.color }}
                </td>
                <td>
                    <span class="p-column-title">Placa</span>
                    {{ vehicle.plate }}
                </td>
                <td>
                    <span class="p-column-title">Data de Criação</span>
                    {{ vehicle.createdAt | date : 'MM/dd/yyyy' }}
                </td>
                <td>
                    <span class="p-column-title">Data de Edição</span>
                    {{ vehicle.updatedAt | date : 'MM/dd/yyyy'  }}
                </td>
                <td style="text-align: left">
                    <p-button 
                        icon="pi pi-pencil" 
                        class="mr-2" 
                        [rounded]="true" 
                        [outlined]="true" 
                        severity="success" 
                        (onClick)="updateVahicle(vehicle)" 
                    />
                    <p-button 
                        icon="pi pi-trash" 
                        severity="danger" 
                        [rounded]="true" 
                        [outlined]="true" 
                        (onClick)="deleteVehicle(vehicle)"
                    />
                </td>
            </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="8">Nenhum veículo encontrado</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<!-- <app-modal [visible]="modalVisible" (onCreate)="createVehicle($event)" (onClose)="closeModal()"></app-modal> -->